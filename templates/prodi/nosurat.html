{% extends "prodi/base.html" %}

{% block content1 %}
<div class="container">
	<div class="page-inner">
	  <div class="page-header">
		<h3 class="fw-bold mb-3">{{ title }}</h3>
		<ul class="breadcrumbs mb-3">
		  <li class="nav-home">
			<a href="{% url 'acd:dashboard' %}">
			  <i class="icon-home"></i>
			</a>
		  </li>
		  <li class="separator">
			<i class="icon-arrow-right"></i>
		  </li>
		  <li class="nav-item">
			<a href="">{{heading}}</a>
		  </li>	  		  	  
		</ul>
	  </div>
	  <div class="row">
		<div class="col-md-12">
		  <div class="card">
			<div class="card-header">
				<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#formModal">
					Nomor Surat Baru
				</button>
			</div>
			<div class="card-body">
			  <div class="table-responsive">
				<table
				  id="multi-filter-select"
				  class="display table table-striped table-hover"
				>
				  <thead>
					<tr>
					  <th>No</th>
					  <th>Date In</th>
					  <th>Nomor Surat</th>
					  <th>Perihal</th>
					  <th>Tujuan</th>
					</tr>
				  </thead>
				  <tfoot>
					<tr>
						<th>No</th>
						<th>Date In</th>
						<th>Nomor Surat</th>
						<th>Perihal</th>
						<th>Tujuan</th>
					</tr>
				  </tfoot>
				  <tbody>
					{% for datatb in data %}
						<tr>
							<td>{{ forloop.counter }}</td>
							<td>{{ datatb.date_in }}</td>
							<td>{{ datatb.nomor }}/{{datatb.jurusan.kode_surat}}</td>
							<td>{{ datatb.perihal }}</td>							  				
							<td>{{ datatb.tujuan }}</td>					  
						</tr>
					{% endfor %}
				  </tbody>
				</table>
			  </div>
			</div>
		  </div>
		</div>

		
	  </div>
	</div>
  </div>


<!-- Modal -->
<div class="modal fade" id="formModal" tabindex="-1" aria-labelledby="formModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="formModalLabel">Form Perihal dan Tujuan</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">
				<form method="post">
					{% csrf_token %}
					{{ form.as_p }}	
					<div class="d-flex justify-content-end">
						<button type="submit" class="btn btn-success">Kirim</button>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>

  
{% endblock content1 %} 


{% block script_costum %} 

{% if messages %}
    {% for message in messages %}
        <script>
            swal({
                title: "{% if message.tags == 'success' %}Good job!{% else %}Gagal Menyimpan!{% endif %}",
                text: "{{ message }}",
                icon: "{% if message.tags == 'success' %}success{% else %}error{% endif %}",
                buttons: {
                    confirm: {
                        text: "OK",
                        value: true,
                        visible: true,
                        className: "{% if message.tags == 'success' %}btn btn-success{% else %}btn btn-danger{% endif %}",
                        closeModal: true,
                    },
                },
            });
        </script>
    {% endfor %}
{% endif %}

{% endblock script_costum %} 