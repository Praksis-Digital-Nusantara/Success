{% extends "mhs/base.html" %}

{% block content1 %}
<div class="dashboard-content">
	<!-- Hero Profile Section -->
	<div class="hero-profile-elegant">
		<div class="hero-photo-elegant">
			<img src="/media/{{ photo }}" alt="Profile Picture">
		</div>
		<div class="hero-info-elegant">
			<p class="hero-welcome-text">Selamat Datang Mahasiswa..</p>
			<h1 class="hero-name-display">{{ userdetail.nim }}</h1>
			<div class="hero-details-grid">
				<div class="detail-item">
					<span class="detail-label">NIM</span>
					<span class="detail-value">{{ userdetail.nim }}</span>
				</div>
				<div class="detail-item">
					<span class="detail-label">Program Studi</span>
					<span class="detail-value">{{ userdetail.prodi }}</span>
				</div>
				<div class="detail-item">
					<span class="detail-label">Kontak</span>
					<span class="detail-value">{{ userdetail.telp }}</span>
				</div>
				<div class="detail-item">
					<span class="detail-label">Email</span>
					<span class="detail-value">{{ userdetail.nim.email }}</span>
				</div>
				<div class="detail-item">
					<span class="detail-label">Lahir</span>
					<span class="detail-value">{{ userdetail.tempat_lahir }} pada tanggal {{ userdetail.tgl_lahir }}</span>
				</div>
				<div class="detail-item">
					<span class="detail-label">Penasehat Akademik</span>
					<span class="detail-value">{{ userdetail.penasehat_akademik.nip.first_name }}</span>
				</div>
			</div>
			<div class="hero-action-area">
				<a href="{% url 'acd:profile_mhs' %}">
					{% if userdetail.telp is None or userdetail.tempat_lahir is None or userdetail.tgl_lahir is None or userdetail.penasehat_akademik is None %}
						<button class="btn danger small">
							<i class="ri-alert-line"></i> Lengkapi profil Anda untuk melanjutkan!
						</button>
					{% else %}
						<button class="btn primary medium">
							<i class="ri-user-line"></i> Detail Profil
						</button>
					{% endif %}
				</a>
			</div>
		</div>
	</div>

	<!-- Stats Cards -->
	<div class="stats-cards">
		<h4>Info Layanan Anda</h4>
	</div>
	<div class="stats-cards">
		<div class="stat-card orange">
			<i class="ri-loader-5-line"></i>
			<div class="stat-info">
				<p>Menunggu</p>
				<h3>{{ data.layanan_waiting }}</h3>
				<a href="{% url 'acd:layanan_me' %}"><button class="btn warning x-small">Details</button></a>
			</div>
		</div>
		<div class="stat-card blue">
			<i class="ri-loader-5-line"></i>
			<div class="stat-info">
				<p>Dalam Proses</p>
				<h3>{{ data.layanan_processing }}</h3>
				<a href="{% url 'acd:layanan_me' %}"><button class="btn primary x-small">Details</button></a>
			</div>
		</div>
		<div class="stat-card green">
			<i class="ri-checkbox-circle-line"></i>
			<div class="stat-info">
				<p>Selesai</p>
				<h3>{{ data.layanan_completed }}</h3>
				<a href="{% url 'acd:layanan_me' %}"><button class="btn success x-small">Details</button></a>
			</div>
		</div>
		<div class="stat-card red">
			<i class="ri-close-circle-line"></i>
			<div class="stat-info">
				<p>Ditolak</p>
				<h3>{{ data.layanan_rejected }}</h3>
				<a href="{% url 'acd:layanan_me' %}"><button class="btn danger x-small">Details</button></a>
			</div>
		</div>
	</div>

	<div class="stats-cards">
		<h4>Info Studi</h4>
	</div>
	<div class="stats-cards">
		<div class="stat-card purple">
			<i class="ri-book-open-line"></i>
			<div class="stat-info">
				<h5>Lama Studi Anda</h5>
				<h3>{{ data.ms_tahun}} Tahun {{ data.ms_bulan }} Bulan {{ data.ms_hari }} Hari</h3>
			</div>
		</div>
		<div class="stat-card indigo">
			<i class="ri-task-line"></i>
			<div class="stat-info">
				<h3>Skripsi</h3>
				<a href="{% url 'acd:skripsi' %}"><button class="btn primary x-small">Lihat panduan dan progres skripsi anda</button></a>
			</div>
		</div>
	</div>
</div>
{% endblock content1 %} 

