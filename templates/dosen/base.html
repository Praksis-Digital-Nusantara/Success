{% load static %}


{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title }} | {{webname}}</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}?v={{ STATIC_VERSION }}"> 
    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
</head>
<body>
    <div class="dashboard-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="logo">
                <i class="ri-strikethrough"></i>
                <div class="logo-text">
                    <h2>{{webname}}</h2>
                    <span>{{web_name}}</span>
                </div>
            </div>
          
            
            <nav class="sidebar-menu">
                <ul>
                    <li class="{% if title == 'Dashboard' %}active{% endif %}">
                        <a href="{% url "acd:dashboard" %}"><i class="ri-dashboard-line"></i> Dashboard</a>
                    </li>  
                    <li class="{% if title == 'Profile' %}active{% endif %}">
                        <a href="{% url 'acd:profile_dosen' %}"><i class="ri-calendar-line"></i>Profile</a>
                    </li>                 
                </ul>
            </nav>

            <div class="sidebar-footer">
                <button class="btn danger" onclick="openModal('logout')">
                    <i class="ri-logout-box-line"></i>
                    Logout
                </button>
                <div class="sidebar-footer-p">
                    <p>Â© 2024 Praksis Digital Nusantara.</p>
                    <p>Version: 1.0.0-alpha.1</p>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Top Header -->
            <header class="top-header">
                <div class="header-left">
                    <button id="toggle-sidebar"><i class="ri-menu-line"></i></button>
                    <h1>{{heading}}</h1>
                </div>
                <div class="header-right">
                    <div class="search-bar">
                        <i class="ri-search-line"></i>
                        <input type="text" placeholder="Search...">
                    </div>
                    <div class="user-menu">
                        <i class="ri-contrast-2-fill"></i>
                        <i class="ri-notification-3-line"></i>
                        <img src="/{{ photo }}" alt="User Avatar" class="avatar">
                    </div>
                </div>
            </header>

            {% block content1 %}
            {% endblock content1 %}
            <!-- START FOOTER DASHBAORD -->
            <footer class="dashboard-footer">
                <div class="footer-content">
                    <div class="footer-left">
                        <p>&copy; 2025 Praksis Digital Nusantara. All rights reserved.
                        </p>
                    </div>
                    <div class="footer-center">
                        <a href="#">Terms of Service</a>
                        <a href="#">Privacy Police</a>
                        <a href="#">Manual Guide</a>
                    </div>
                    <div class="footer-right">
                        <div class="social-links">
                            <a href="#"><i class="ri-facebook-fill"></i></a>
                            <a href="#"><i class="ri-twitter-fill"></i></a>
                            <a href="#"><i class="ri-instagram-line"></i></a>
                            <a href="#"><i class="ri-github-fill"></i></a>
                        </div>
                    </div>
                </div>

            </footer>
            <!-- FOOTER DASHBOARD -->
        </div>
    </div>



<!-- MODAL NOTIFIKASI -->
<div class="notification-modal" id="notificationModal">
    <div class="notification-header">
        <h2>Notifications</h2>
    </div>
    <div class="notification-list">
        <div class="notification-item">
            <img src="https://padinusantara.co.id/media/team/andi.jpg" alt="User Avatar" class="notification-avatar">
            <div class="notification-content">
                <p><strong>Pesan baru dari Admin Fakultas</strong> "Kesalahan dalam dokumen A"</p>
                <span class="notification-time">a few moments ago</span>
            </div>
        </div>
        <div class="notification-item">
            <img src="https://padinusantara.co.id/media/team/andi.jpg" alt="User Avatar" class="notification-avatar">
            <div class="notification-content">
                <p><strong>HermantoXYZ</strong> and <strong>5 others</strong> ujian sidang akan segera di mulai.</p>
                <span class="notification-time">10 minutes ago</span>
            </div>
        </div>
        <div class="notification-item">
            <img src="https://padinusantara.co.id/media/team/andi.jpg" alt="User Avatar" class="notification-avatar">
            <div class="notification-content">
                <p><strong>Aco</strong> and <strong>141 others</strong> telah menyelesaikan ujian proposal</p>
                <span class="notification-time">44 minutes ago</span>
            </div>
        </div>
        <div class="notification-footer">
            <a href="#" class="view-all">View all</a>
        </div>
    </div>
</div>



<!-- MODAL LOGOUT -->
<div id="logout" class="modal-edit">
	<div class="modal-content-edit">
		<span class="close" onclick="closeModal('logout')">&times;</span>
		<p>Yakin ingin keluar dari aplikasi?</p>
        <a href="{% url 'acd:logout' %}" class="logout">
            <button class="btn danger">
                <i class="ri-logout-box-line"></i>
                Ya
            </button>
        </a>
        <button class="btn primary" onclick="closeModal('logout')">
            <i class="ri-logout-box-line"></i>
            Tidak
        </button>
	</div>
</div>


    <!-- JS FOR SIDEBAR/OPENG/CLOSE -->
    <script>
        const toggleButton = document.getElementById('toggle-sidebar');
        const dashboardContainer = document.querySelector('.dashboard-container');
        const mainContent = document.querySelector('.main-content');
        const sidebar = document.querySelector('.sidebar');

        // Function to check screen width and collapse sidebar
        const checkScreenWidth = () => {
            if (window.innerWidth <= 768) {
                dashboardContainer.classList.add('sidebar-collapsed');
            }
        };

        // Check on page load
        checkScreenWidth();

        // Check on window resize
        window.addEventListener('resize', checkScreenWidth);
        
        // Toggle sidebar with button
        toggleButton.addEventListener('click', (e) => {
            e.stopPropagation();
            dashboardContainer.classList.toggle('sidebar-collapsed');
        });

        // Close sidebar when clicking main content only on mobile
        document.addEventListener('click', (e) => {
            if (window.innerWidth <= 768) {
                if (!sidebar.contains(e.target) && !toggleButton.contains(e.target)) {
                    dashboardContainer.classList.add('sidebar-collapsed');
                }
            }
        });

        // Active Menu Item
        const menuItems = document.querySelectorAll('.sidebar-menu li');
        menuItems.forEach(item => {
            item.addEventListener('click', (e) => {
                menuItems.forEach(i => i.classList.remove('active'));
                item.classList.add('active');
            });
        });
    </script>
    <!-- JS FOR DROPDOWN -->
    <script>
      // Dropdown functionality
      const dropdownItems = document.querySelectorAll('.has-dropdown > a');
        
        dropdownItems.forEach(item => {
            item.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                const parent = item.parentElement;
                
                // Toggle current dropdown
                if (parent.classList.contains('active')) {
                    parent.classList.remove('active');
                } else {
                    // Close other dropdowns
                    dropdownItems.forEach(other => {
                        other.parentElement.classList.remove('active');
                    });
                    parent.classList.add('active');
                }
            });
        });
    </script>

    <!-- JS FOR DARK DASHBOARD -->
    <script>
        // Dark mode toggle
        const darkModeToggle = document.querySelector('.ri-contrast-2-fill');
        
        // Check for saved dark mode preference
        if (localStorage.getItem('darkMode') === 'enabled') {
            document.body.classList.add('dark-mode');
        }
        
        darkModeToggle.addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
            
            // Save preference
            if (document.body.classList.contains('dark-mode')) {
                localStorage.setItem('darkMode', 'enabled');
            } else {
                localStorage.setItem('darkMode', null);
            }
        });
    </script>


<!-- Add this before closing body tag -->
<script>
    const notificationButton = document.querySelector('.ri-notification-3-line');
    const notificationModal = document.getElementById('notificationModal');

    notificationButton.addEventListener('click', (e) => {
        e.stopPropagation();
        notificationModal.classList.toggle('show-notification');
    });

    // Close notification modal when clicking outside
    document.addEventListener('click', (e) => {
        if (!notificationModal.contains(e.target) && !notificationButton.contains(e.target)) {
            notificationModal.classList.remove('show-notification');
        }
    });
</script>

{% block script_costum %} 
{% endblock script_costum %} 


{% block script_modal %} 
<script>
    function openModal(modalId) {
        var modal = document.getElementById(modalId);
        modal.style.display = "block";
    }

    function closeModal(modalId) {
        var modal = document.getElementById(modalId);
        modal.style.display = "none";
    }

    window.onclick = function(event) {
        var modals = document.getElementsByClassName('modal-edit');
        for (var i = 0; i < modals.length; i++) {
            if (event.target == modals[i]) {
                modals[i].style.display = "none";
            }
        }
    }
</script>
{% endblock script_modal %} 


</body>
</html>



